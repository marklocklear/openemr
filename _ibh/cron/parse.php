<?php
	
	
	
	$str = "||H0031|T1017|H2017|H2011|H0046|90847|90846|90853|90832|90834|90837|90791|96372|99212|99213|99214|99215|99203|99204|99211|99205|H0038|96101|96102|96103|T1014|Q3014|H0023|H0032*
Blue Cross of Idaho|||||||93.36|90.44|22.85|56.24|74.6|111.72|116.02|35.15|61.43|103.24|152.24|205.75|152.5|233.67|27.92|293.47||92.17|71.37|31.15||||*
Medicaid||12.09|12.09|11.35|11.04|13.63|80.85|80.85|22.05|41.6|62.42|85.25|101.97|19.79|30.8|50.29|75.68|102.44|75.77|116.61|15.98|146.8|13.63|83.73|65.61|48.13|20|20|4.1|11.35";

// medicaid 55
// bc idaho 34
$p1 = explode("*", $str);

$ct = 0;
$codes = array();
$str = "";

foreach ($p1 as $l) {
	
	$arr = explode("|", $l); 
	
	
	if ($ct == 0) {
		$id = 0;
		// set up codes
		foreach ($arr as $code) {
			$codes[] = $code;
		}
		
		
	} else if ($ct == 1) {
		
		$id = 34;
		$bc_ct = 0;
		foreach ($arr as $bc) {
			$str .= $id . "," . $codes[$bc_ct] . "," . $arr[$bc_ct] . "<br>";
			$bc_ct++;
		}
		
		
		// prices
		
		
	} else if ($ct == 2) {
		
		$id = 55;
		// prices
		$mc_ct = 0;
		foreach ($arr as $mc) {
			$str .= $id . "," . $codes[$mc_ct] . "," . $arr[$mc_ct] . "<br>";
			$mc_ct++;
		}
		
	} 
	
	
	
	$ct++;
	
}

echo $str;



?>